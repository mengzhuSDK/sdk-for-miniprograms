/*! For license information please see mzlive.js.LICENSE */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mzlive=e():t.mzlive=e()}(global,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";e.__esModule=!0;var r=l(n(1)),o=l(n(40)),i=n(73),s=n(80),a=l(n(75)),u=n(81),c=l(u);function l(t){return t&&t.__esModule?t:{default:t}}var f={listenUrl:"",ticketId:"",channelId:"",userId:"",token:"",onlineUrl:"",pubUrl:"",name:"",avatar:"",praises:"",chatUid:"",extendObject:{}},h=["string","boolean","number"],p=null,d=null,g=!1;e.default={init:function(t){var e=t.ticketId,n=t.uniqueId,r=t.name,i=t.avatar,s=t.permision,a=(s=void 0===s?{}:s).id,l=void 0===a?"":a,p=s.key,d=void 0===p?"":p,m=t.extendObject,v=void 0===m?{}:m;console.log("init start");try{var y=Object.keys(v);if(y.length>3)throw"Extension field cannot exceed 3.";y.map((function(t){if(h.indexOf((0,o.default)(v[t]))<0)throw"Extension field type error, must be string or Boolean or number.";if(0==h.indexOf((0,o.default)(v[t]))&&v[t].length>128)throw"Extended field length cannot exceed 128 characters."})),f.ticketId=e,f.userId=n,f.name=r,f.avatar=i,f.extendObject=v,(0,u.setPermission)(l,d);var _={method:"get",data:{ticket_id:f.ticketId,unique_id:f.userId,name:f.name,avatar:f.avatar}};return(0,c.default)("play",_).then((function(t){var e=t.data,n=e.msg_config,r=n.msg_online_srv,o=n.msg_token,i=e.chat_config,s=i.receive_url,a=i.pub_url,u=e.channel_id,c=e.unique_id,l=e.chatUid;return f.listenUrl=s,f.channelId=u,f.onlineUrl=r,f.token=o,f.pubUrl=a,g=!0,f.userId=c,f.chatUid=l,e}))}catch(t){console.log(t)}},push:function(t){if(!g)throw"Please initialize the SDK first.";var e={token:f.token,app_name:"smb",event:"msg"},n=(0,r.default)({},f.extendObject,{text:t});e.data=JSON.stringify(n),t.length<=0||(0,c.default)(f.pubUrl,{method:"get",data:e})},connect:function(){return new Promise((function(t,e){try{if(!g)return void e("Please initialize the SDK first.");p=new i.LivePushStream(f.listenUrl),d=new s.LiveSocket(f.onlineUrl,f.userId,f.token),p.init(),d.connect(),t(!0)}catch(t){e(!1)}}))},disconnect:function(){if(g)return setTimeout((function(){p&&p.disconnect(),d&&d.disconnect(),g=!1,p=null,d=null}),0),!1},mzee:a.default,request:c.default,getChannelInfo:function(t){var e={method:"get",data:{channel_id:t.channelId}};return(0,c.default)("channel",e).then((function(t){return t.data}))},getGoods:function(t){var e=t.ticketId,n=t.type,r=t.limit,o=t.offset,i=t.permision,s=(i=void 0===i?{}:i).id,a=void 0===s?"":s,l=i.key,h=void 0===l?"":l;f.ticketId=e,f.type=n,(0,u.setPermission)(a,h);var p={method:"get",data:{ticket_id:f.ticketId,unique_id:f.userId,name:f.name,avatar:f.avatar,offset:o,limit:r}};return(0,c.default)("goods",p).then((function(t){return t.data}))},getHistory:function(t){var e=t.ticketId,n=t.type,r=t.permision,o=(r=void 0===r?{}:r).id,i=void 0===o?"":o,s=r.key,a=void 0===s?"":s;f.ticketId=e,f.type=n,(0,u.setPermission)(i,a);var l={method:"get",data:{ticket_id:f.ticketId,unique_id:f.userId,name:f.name,avatar:f.avatar}};return(0,c.default)("history",l).then((function(t){for(var e=t.data,n=0;n<e.length;n++)e[n].text.data=JSON.parse(e[n].text.data);return e}))},getPraise:function(t){var e=t.ticketId,n=t.channelId,r=t.praises,o=t.chatUid;f.ticketId=e,f.channelId=n,f.praises=r,f.chatUid=o;var i={method:"post",data:{ticket_id:f.ticketId,channel_id:f.channelId,praises:f.praises,uid:f.chatUid}};return(0,c.default)("praise",i).then((function(t){return t.data}))},getOnlines:function(t){var e=t.ticketId;f.ticketId=e;var n={method:"get",data:{ticket_id:f.ticketId}};return(0,c.default)("onlines",n).then((function(t){return t.data}))}}},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){t.exports={default:n(3),__esModule:!0}},function(t,e,n){n(4),t.exports=n(7).Object.assign},function(t,e,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(21)})},function(t,e,n){var r=n(6),o=n(7),i=n(8),s=n(10),a=n(20),u=function(t,e,n){var c,l,f,h=t&u.F,p=t&u.G,d=t&u.S,g=t&u.P,m=t&u.B,v=t&u.W,y=p?o:o[e]||(o[e]={}),_=y.prototype,b=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(l=!h&&b&&void 0!==b[c])&&a(y,c)||(f=l?b[c]:n[c],y[c]=p&&"function"!=typeof b[c]?n[c]:m&&l?i(f,r):v&&b[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):g&&"function"==typeof f?i(Function.call,f):f,g&&((y.virtual||(y.virtual={}))[c]=f,t&u.R&&_&&!_[c]&&s(_,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(9);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(11),o=n(19);t.exports=n(15)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(12),o=n(14),i=n(18),s=Object.defineProperty;e.f=n(15)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(13);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(15)&&!n(16)((function(){return 7!=Object.defineProperty(n(17)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports=!n(16)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(13),o=n(6).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(15),o=n(22),i=n(37),s=n(38),a=n(39),u=n(25),c=Object.assign;t.exports=!c||n(16)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=a(t),c=arguments.length,l=1,f=i.f,h=s.f;c>l;)for(var p,d=u(arguments[l++]),g=f?o(d).concat(f(d)):o(d),m=g.length,v=0;m>v;)p=g[v++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:c},function(t,e,n){var r=n(23),o=n(36);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(20),o=n(24),i=n(28)(!1),s=n(32)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(25),o=n(27);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(26);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(24),o=n(29),i=n(31);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),l=i(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(30),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(30),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(33)("keys"),o=n(35);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(7),o=n(6),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(34)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(27);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(41)),o=s(n(60)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,e,n){t.exports={default:n(42),__esModule:!0}},function(t,e,n){n(43),n(55),t.exports=n(59).f("iterator")},function(t,e,n){"use strict";var r=n(44)(!0);n(45)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(30),o=n(27);t.exports=function(t){return function(e,n){var i,s,a=String(o(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(34),o=n(5),i=n(46),s=n(10),a=n(47),u=n(48),c=n(52),l=n(54),f=n(53)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,g,m,v){u(n,e,d);var y,_,b,S=function(t){if(!h&&t in j)return j[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",O="values"==g,w=!1,j=t.prototype,k=j[f]||j["@@iterator"]||g&&j[g],P=k||S(g),T=g?O?S("entries"):P:void 0,C="Array"==e&&j.entries||k;if(C&&(b=l(C.call(new t)))!==Object.prototype&&b.next&&(c(b,x,!0),r||"function"==typeof b[f]||s(b,f,p)),O&&k&&"values"!==k.name&&(w=!0,P=function(){return k.call(this)}),r&&!v||!h&&!w&&j[f]||s(j,f,P),a[e]=P,a[x]=p,g)if(y={values:O?P:S("values"),keys:m?P:S("keys"),entries:T},v)for(_ in y)_ in j||i(j,_,y[_]);else o(o.P+o.F*(h||w),e,y);return y}},function(t,e,n){t.exports=n(10)},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(49),o=n(19),i=n(52),s={};n(10)(s,n(53)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(12),o=n(50),i=n(36),s=n(32)("IE_PROTO"),a=function(){},u=function(){var t,e=n(17)("iframe"),r=i.length;for(e.style.display="none",n(51).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(11),o=n(12),i=n(22);t.exports=n(15)?Object.defineProperties:function(t,e){o(t);for(var n,s=i(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(6).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(11).f,o=n(20),i=n(53)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(33)("wks"),o=n(35),i=n(6).Symbol,s="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=s&&i[t]||(s?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(20),o=n(39),i=n(32)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(56);for(var r=n(6),o=n(10),i=n(47),s=n(53)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],l=r[c],f=l&&l.prototype;f&&!f[s]&&o(f,s,c),i[c]=i.Array}},function(t,e,n){"use strict";var r=n(57),o=n(58),i=n(47),s=n(24);t.exports=n(45)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){e.f=n(53)},function(t,e,n){t.exports={default:n(61),__esModule:!0}},function(t,e,n){n(62),n(70),n(71),n(72),t.exports=n(7).Symbol},function(t,e,n){"use strict";var r=n(6),o=n(20),i=n(15),s=n(5),a=n(46),u=n(63).KEY,c=n(16),l=n(33),f=n(52),h=n(35),p=n(53),d=n(59),g=n(64),m=n(65),v=n(66),y=n(12),_=n(13),b=n(39),S=n(24),x=n(18),O=n(19),w=n(49),j=n(67),k=n(69),P=n(37),T=n(11),C=n(22),I=k.f,L=T.f,E=j.f,A=r.Symbol,M=r.JSON,N=M&&M.stringify,U=p("_hidden"),B=p("toPrimitive"),R={}.propertyIsEnumerable,D=l("symbol-registry"),q=l("symbols"),F=l("op-symbols"),H=Object.prototype,K="function"==typeof A&&!!P.f,J=r.QObject,W=!J||!J.prototype||!J.prototype.findChild,G=i&&c((function(){return 7!=w(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=I(H,e);r&&delete H[e],L(t,e,n),r&&t!==H&&L(H,e,r)}:L,z=function(t){var e=q[t]=w(A.prototype);return e._k=t,e},V=K&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},Q=function(t,e,n){return t===H&&Q(F,e,n),y(t),e=x(e,!0),y(n),o(q,e)?(n.enumerable?(o(t,U)&&t[U][e]&&(t[U][e]=!1),n=w(n,{enumerable:O(0,!1)})):(o(t,U)||L(t,U,O(1,{})),t[U][e]=!0),G(t,e,n)):L(t,e,n)},Y=function(t,e){y(t);for(var n,r=m(e=S(e)),o=0,i=r.length;i>o;)Q(t,n=r[o++],e[n]);return t},$=function(t){var e=R.call(this,t=x(t,!0));return!(this===H&&o(q,t)&&!o(F,t))&&(!(e||!o(this,t)||!o(q,t)||o(this,U)&&this[U][t])||e)},Z=function(t,e){if(t=S(t),e=x(e,!0),t!==H||!o(q,e)||o(F,e)){var n=I(t,e);return!n||!o(q,e)||o(t,U)&&t[U][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=E(S(t)),r=[],i=0;n.length>i;)o(q,e=n[i++])||e==U||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===H,r=E(n?F:S(t)),i=[],s=0;r.length>s;)!o(q,e=r[s++])||n&&!o(H,e)||i.push(q[e]);return i};K||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(F,n),o(this,U)&&o(this[U],t)&&(this[U][t]=!1),G(this,t,O(1,n))};return i&&W&&G(H,t,{configurable:!0,set:e}),z(t)}).prototype,"toString",(function(){return this._k})),k.f=Z,T.f=Q,n(68).f=j.f=X,n(38).f=$,P.f=tt,i&&!n(34)&&a(H,"propertyIsEnumerable",$,!0),d.f=function(t){return z(p(t))}),s(s.G+s.W+s.F*!K,{Symbol:A});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=C(p.store),ot=0;rt.length>ot;)g(rt[ot++]);s(s.S+s.F*!K,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=A(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!K,"Object",{create:function(t,e){return void 0===e?w(t):Y(w(t),e)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:X,getOwnPropertySymbols:tt});var it=c((function(){P.f(1)}));s(s.S+s.F*it,"Object",{getOwnPropertySymbols:function(t){return P.f(b(t))}}),M&&s(s.S+s.F*(!K||c((function(){var t=A();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(_(e)||void 0!==t)&&!V(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),r[1]=e,N.apply(M,r)}}),A.prototype[B]||n(10)(A.prototype,B,A.prototype.valueOf),f(A,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(35)("meta"),o=n(13),i=n(20),s=n(11).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(16)((function(){return u(Object.preventExtensions({}))})),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!i(t,r)&&l(t),t}}},function(t,e,n){var r=n(6),o=n(7),i=n(34),s=n(59),a=n(11).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(22),o=n(37),i=n(38);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var s,a=n(t),u=i.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var r=n(26);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(24),o=n(68).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(23),o=n(36).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(38),o=n(19),i=n(24),s=n(18),a=n(20),u=n(14),c=Object.getOwnPropertyDescriptor;e.f=n(15)?c:function(t,e){if(t=i(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(64)("asyncIterator")},function(t,e,n){n(64)("observable")},function(t,e,n){"use strict";e.__esModule=!0,e.LivePushStream=a;var r=n(74),o=s(n(75)),i=s(n(77));function s(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=this,n=new i.default(t);this.pushStream=new r.PushStream({modes:"longpolling",messagesPublishedAfter:0,messagesControlByArgument:!0}),this.pushStream.useSSL="https:"===n.protocol,this.pushStream.host=n.hostname,this.pushStream.port=n.port,this.pushStream._crossDomain=!1,n.pathname.split("/").map((function(t){0===t.indexOf("smb")&&e.pushStream.addChannel(t)}))}a.prototype.init=function(){var t=this;this.delayConnectTimer=setTimeout((function(){t.pushStream.connect()}),3e3),this.pushStream.onmessage=function(e){var n=JSON.parse(decodeURIComponent(e));t.eventProcess(n)}},a.prototype.eventProcess=function(t){var e;e=Object.assign({},{data:t.data},{avatar:t.avatar,time:t.time,user_id:t.user_id,user_name:t.user_name}),o.default.emit(t.event,e)},a.prototype.disconnect=function(){clearTimeout(this.delayConnectTimer),this.pushStream.disconnect()},a.prototype.sendMessage=function(t){this.pushStream.sendMessage(t)}},function(t,e,n){"use strict";e.__esModule=!0,e.PushStreamManager=e.PushStream=void 0;var r,o=n(40),i=(r=o)&&r.__esModule?r:{default:r};var s=function(){var t={},e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=function(t){return(t<10?"0":"")+t};t.dateToUTCString=function(t){var o=r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds());return e[t.getUTCDay()]+", "+r(t.getUTCDate())+" "+n[t.getUTCMonth()]+" "+t.getUTCFullYear()+" "+o+" GMT"};var o=function(){for(var t=arguments[0]||{},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty&&!n.hasOwnProperty(r)||(t[r]=n[r])}return t},s=/^[\],:{}\s]*$/,a=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,u=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,c=/(?:^|:|,)(?:\s*\[)+/g;t.parseJSON=function(t){if(!t||!d(t))return null;if(t=t.replace(/^\s*/,"").replace(/\s*$/,""),JSON&&JSON.parse)try{return JSON.parse(t)}catch(e){throw"Invalid JSON: "+t}if(s.test(t.replace(a,"@").replace(u,"]").replace(c,"")))return new Function("return "+t)();throw"Invalid JSON: "+t};var l=function(){return(new Date).getTime()},f=function(t){var e=t;if("object"===(void 0===t?"undefined":(0,i.default)(t))){for(var n in e="",t)t.hasOwnProperty&&!t.hasOwnProperty(n)||(e+="&"+n+"="+escape(t[n]));e=e.substring(1)}return e||""},h=function(t,e){return t+(t.indexOf("?")<0?"?":"&")+f(e)},p=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},d=function(t){return"[object String]"===Object.prototype.toString.call(t)},g=function(t){return"[object Date]"===Object.prototype.toString.call(t)},m={logger:null,debug:function(){"debug"===C.LOG_LEVEL&&m._log.apply(m._log,arguments)},info:function(){"info"!==C.LOG_LEVEL&&"debug"!==C.LOG_LEVEL||m._log.apply(m._log,arguments)},error:function(){m._log.apply(m._log,arguments)},_initLogger:function(){console&&console.log&&(console.log.apply?m.logger=console.log:"object"===(0,i.default)(console.log)&&Function.prototype.bind?m.logger=Function.prototype.bind.call(console.log,console):"object"===(0,i.default)(console.log)&&Function.prototype.call&&(m.logger=function(){Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}))},_log:function(){if(m.logger||m._initLogger(),m.logger)try{m.logger.apply(console,arguments)}catch(t){m._initLogger(),m.logger&&m.logger.apply(console,arguments)}}},v=function(){this.method="get",this.url="",this.readyState=0,this.async=!0,this.status=404,this.onreadystatechange=function(){},this.requestTask=null,this.RequestHeader={},this.ResponseHeader={}};v.prototype={open:function(t,e,n,r,o){this.method=t||this.method,this.url=e||"",this.async=n||!0},abort:function(){this.requestTask&&this.requestTask.abort()},setRequestHeader:function(t,e){t=t.toLowerCase(),this.RequestHeader[t]=e},getRequestHeader:function(t){return t=t.toLowerCase(),this.RequestHeader[t]||""},getResponseHeader:function(t){return t=t.toLowerCase(),this.ResponseHeader[t]||""},send:function(t){var e=this,n={};"object"===(void 0===t?"undefined":(0,i.default)(t))?n=t:"string"==typeof t&&(n=this._parseQueryString(t)),this.requestTask=wx.request({url:e.url,data:n,method:this.method,header:this.RequestHeader,success:function(t){e.status=200,e.readyState=4,e.responseText=t.data},fail:function(t){e.status=t.statusCode,e.responseText=t.data},complete:function(t){e.ResponseHeader=t.header,e.onreadystatechange&&e.onreadystatechange()}})},_parseQueryString:function(t){var e={},n=[],r="",o="",i=t.substring(t.indexOf("?")+1,t.length).split("&");for(var s in i)r=(n=i[s].split("="))[0],o=n[1],e[r]=o;return e}};var y={_getXHRObject:function(t){return new v},_send:function(t,e){(t=t||{}).timeout=t.timeout||3e4;var n=y._getXHRObject(t.crossDomain);if(n&&t.url){y.clear(t),t.xhr=n,n.onreadystatechange=function(){4===n.readyState&&(y.clear(t),t.afterReceive&&t.afterReceive(n),200===n.status?t.success&&t.success(n.responseText):t.error&&t.error(n.status))},t.beforeOpen&&t.beforeOpen(n);var r={},i=null,s="GET";e?(i=f(t.data),s="POST"):r=t.data||{},n.open(s,h(t.url,o({},r,{_:l()})),!0),t.beforeSend&&t.beforeSend(n);return e?n.setRequestHeader&&(n.setRequestHeader("Accept","application/json"),n.setRequestHeader("Content-type","application/x-www-form-urlencoded")):t.timeoutId=setTimeout((function(){y.clear(t);try{n.abort()}catch(t){}t.error(304)}),t.timeout+2e3),n.send(i),n}},_clear_xhr:function(t){t&&(t.onreadystatechange=null)},_clear_script:function(t){t&&(t.onerror=t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t))},_clear_timeout:function(t){t.timeoutId=j(t.timeoutId)},_clear_jsonp:function(t){var e=t.data.callback;e&&(this[e]=function(){this[e]=null})},clear:function(t){y._clear_timeout(t),y._clear_jsonp(t),y._clear_xhr(t.xhr)},jsonp:function(t){t.timeout=t.timeout||3e4,y.clear(t);var e=l();return t.beforeOpen&&t.beforeOpen({}),t.beforeSend&&t.beforeSend({}),t.timeoutId=setTimeout((function(){y.clear(t);var n=l();t.error(n-e>t.timeout/2?304:403)}),t.timeout+2e3),t.scriptId=t.scriptId||l(),t.afterSuccess=null,t.data.callback=t.scriptId+"_onmessage_"+l(),this[t.data.callback]=function(){t.afterSuccess=!0,t.success.apply(null,arguments)},t},load:function(t){return y._send(t,!1)},post:function(t){return y._send(t,!0)}},_=function(t){return t?escape?escape(t):t:""};t.parseMessage=function(e,n){var r,o=e;return d(e)&&(o=t.parseJSON(e)),{id:o[n.jsonIdKey],channel:o[n.jsonChannelKey],text:d(o[n.jsonTextKey])?(r=o[n.jsonTextKey],r?unescape?unescape(r):r:""):o[n.jsonTextKey],tag:o[n.jsonTagKey],time:o[n.jsonTimeKey],eventid:o[n.jsonEventIdKey]||""}};var b=function(t,e){var n,r="";for(var o in t)t.hasOwnProperty&&!t.hasOwnProperty(o)||(r+="/"+o+(e?(n=t[o]).backtrack?".b"+Number(n.backtrack):"":""));return r},S=function(t,e,n,r){var i=t.useSSL,s=O(i,t.port),a=i?"https://":"http://";a+=t.host,a+=s?":"+s:"",a+=e;var u=b(t.channels,r);if(t.channelsByArgument){var c={};c[t.channelsArgument]=u.substring(1),n=o({},n,c)}else a+=u;return h(a,n)},x=function(t){var e=O(t.useSSL,t.port),n=t.useSSL?"https://":"http://";return n+=t.host,n+=e?":"+e:"",n+=t.urlPrefixPublisher,n+="?id="+b(t.channels,!1)};t.extract_xss_domain=function(t){if(t.match(/^(\d{1,3}\.){3}\d{1,3}$/))return t;var e=t.split("."),n=Math.max(e.length-1,t.match(/(\w{4,}\.\w{2}|\.\w{3,})$/)?2:3);return e.slice(-1*n).join(".")};var O=function(t,e){return e=Number(e||(t?443:80)),!t&&80===e||t&&443===e?"":e};t.isCrossDomainUrl=function(t){return!1};var w=function(t,e){return function(){return t.apply(e,arguments)}},j=function(t){return t&&clearTimeout(t),null},k=function(){this.pushstream._onopen(),m.info("["+this.type+"] connection opened")},P=function t(e){this.type=t.TYPE,this.pushstream=e,this.connection=null,this.opentimer=null,this.messagesQueue=[],this._linkedInternalListen=w(this._internalListen,this),this.xhrSettings={timeout:this.pushstream.timeout,data:{},url:null,success:w(this.onmessage,this),error:w(this.onerror,this),load:w(this.onload,this),beforeSend:w(this.beforeSend,this),afterReceive:w(this.afterReceive,this)}};P.TYPE="LongPolling",P.prototype={connect:function(){this.messagesQueue=[],this._closeCurrentConnection(),this.urlWithBacktrack=S(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!0),this.urlWithoutBacktrack=S(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!1),this.urlWithBacktrack=this.urlWithBacktrack.replace("////","//"),this.urlWithoutBacktrack=this.urlWithoutBacktrack.replace("////","//"),this.xhrSettings.url=this.urlWithBacktrack,this.useJSONP=this.pushstream._crossDomain||this.pushstream.useJSONP,this.xhrSettings.scriptId="PushStreamManager_"+this.pushstream.id,this.useJSONP&&(this.pushstream.messagesControlByArgument=!0),this._listen(),this.opentimer=setTimeout(w(k,this),150),m.info("[LongPolling] connecting to:",this.xhrSettings.url)},_listen:function(){this._internalListenTimeout&&j(this._internalListenTimeout),this._internalListenTimeout=setTimeout(this._linkedInternalListen,100)},_internalListen:function(){var t,e;this.pushstream._keepConnected&&(this.xhrSettings.url=this.pushstream._useControlArguments()?this.urlWithoutBacktrack:this.urlWithBacktrack,this.xhrSettings.data=o({},this.pushstream.extraParams(),this.xhrSettings.data,(t=this.pushstream,(e={})[t.tagArgument]="",e[t.timeArgument]="",e[t.eventIdArgument]="",t.messagesControlByArgument&&(e[t.tagArgument]=Number(t._etag),t._lastModified?e[t.timeArgument]=t._lastModified:t._lastEventId&&(e[t.eventIdArgument]=t._lastEventId)),e)),this.useJSONP?this.connection=y.jsonp(this.xhrSettings):this.connection||(this.connection=y.load(this.xhrSettings)))},disconnect:function(){j(this.opentimer),this.connection&&(m.debug("[LongPolling] closing connection to:",this.xhrSettings.url),this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.opentimer=j(this.opentimer),this.connection){try{this.connection.abort()}catch(t){try{y.clear(this.connection)}catch(t){}}this.connection=null,this.xhrSettings.url=null}},beforeSend:function(t){this.pushstream.messagesControlByArgument||(t.setRequestHeader("If-None-Match",this.pushstream._etag),t.setRequestHeader("If-Modified-Since",this.pushstream._lastModified))},afterReceive:function(t){this.pushstream.messagesControlByArgument||(this.pushstream._etag=t.getResponseHeader("Etag"),this.pushstream._lastModified=t.getResponseHeader("Last-Modified")),this.connection=null},onerror:function(t){this._closeCurrentConnection(),this.pushstream._keepConnected&&(304===t?this._listen():(m.info("[LongPolling] error (disconnected by server):",t),this.pushstream._onerror({type:403===t||this.pushstream.readyState===C.CONNECTING?"load":"timeout"})))},onload:function(){this._listen()},onmessage:function(e){this._internalListenTimeout&&j(this._internalListenTimeout),m.info("[LongPolling] message received",e);var n=null;if("[object Object]"===Object.prototype.toString.call(e))n=e,this.messagesQueue.push(n),this.pushstream.messagesControlByArgument&&n.time&&(this.pushstream._etag=n.tag,this.pushstream._lastModified=n.time);else for(var r=p(e)?e:e.replace(/\}\{/g,"}\r\n{").split("\r\n"),o=0;o<r.length;o++)r[o]&&(n=t.parseMessage(r[o],this.pushstream),this.messagesQueue.push(n),this.pushstream.messagesControlByArgument&&n.time&&(this.pushstream._etag=n.tag,this.pushstream._lastModified=n.time));for(this._listen();this.messagesQueue.length>0;){var i=this.messagesQueue.shift();this.pushstream._onmessage(i.text,i.id,i.channel,i.eventid,0===this.messagesQueue.length)}}};var T=[],C=function(e){e=e||{},this.id=T.push(this)-1,this.useSSL=e.useSSL||!1,this.host=e.host,this.port=Number(e.port||(this.useSSL?443:80)),this.timeout=e.timeout||3e4,this.pingtimeout=e.pingtimeout||3e4,this.reconnectOnTimeoutInterval=e.reconnectOnTimeoutInterval||3e3,this.reconnectOnChannelUnavailableInterval=e.reconnectOnChannelUnavailableInterval||6e4,this.lastEventId=e.lastEventId||null,this.messagesPublishedAfter=e.messagesPublishedAfter,this.messagesControlByArgument=e.messagesControlByArgument||!1,this.tagArgument=e.tagArgument||"tag",this.timeArgument=e.timeArgument||"time",this.eventIdArgument=e.eventIdArgument||"eventid",this.useJSONP=e.useJSONP||!1,this._reconnecttimer=null,this._etag=0,this._lastModified=null,this._lastEventId=null,this.urlPrefixPublisher=e.urlPrefixPublisher||"/pub",this.urlPrefixStream=e.urlPrefixStream||"/sub",this.urlPrefixEventsource=e.urlPrefixEventsource||"/ev",this.urlPrefixLongpolling=e.urlPrefixLongpolling||"/lp",this.urlPrefixWebsocket=e.urlPrefixWebsocket||"/ws",this.jsonIdKey=e.jsonIdKey||"id",this.jsonChannelKey=e.jsonChannelKey||"channel",this.jsonTextKey=e.jsonTextKey||"text",this.jsonTagKey=e.jsonTagKey||"tag",this.jsonTimeKey=e.jsonTimeKey||"time",this.jsonEventIdKey=e.jsonEventIdKey||"eventid",this.modes=(e.modes||"eventsource|websocket|stream|longpolling").split("|"),this.wrappers=[],this.wrapper=null,this.onchanneldeleted=e.onchanneldeleted||null,this.onmessage=e.onmessage||null,this.onerror=e.onerror||null,this.onstatuschange=e.onstatuschange||null,this.extraParams=e.extraParams||function(){return{}},this.channels={},this.channelsCount=0,this.channelsByArgument=e.channelsByArgument||!1,this.channelsArgument=e.channelsArgument||"channels",this._crossDomain=t.isCrossDomainUrl(x(this));for(var n=0;n<this.modes.length;n++)try{var r=null;switch(this.modes[n]){case"websocket":r=new WebSocketWrapper(this);break;case"eventsource":r=new EventSourceWrapper(this);break;case"longpolling":r=new P(this)}this.wrappers[this.wrappers.length]=r}catch(t){m.info(t)}this.readyState=0};return C.LOG_LEVEL="error",C.LOG_OUTPUT_ELEMENT_ID="Log4jsLogOutput",C.CLOSED=0,C.CONNECTING=1,C.OPEN=2,C.prototype={addChannel:function(t,e){if(_(t)!==t)throw"Invalid channel name! Channel has to be a set of [a-zA-Z0-9]";if(m.debug("entering addChannel"),void 0!==this.channels[t])throw"Cannot add channel "+t+": already subscribed";e=e||{},m.info("adding channel",t,e),this.channels[t]=e,this.channelsCount++,this.readyState!==C.CLOSED&&this.connect(),m.debug("leaving addChannel")},removeChannel:function(t){this.channels[t]&&(m.info("removing channel",t),delete this.channels[t],this.channelsCount--)},removeAllChannels:function(){m.info("removing all channels"),this.channels={},this.channelsCount=0},_setState:function(t){this.readyState!==t&&(m.info("status changed",t),this.readyState=t,this.onstatuschange&&this.onstatuschange(this.readyState))},connect:function(){if(m.debug("entering connect"),!this.host)throw"PushStream host not specified";if(isNaN(this.port))throw"PushStream port not specified";if(!this.channelsCount)throw"No channels specified";if(0===this.wrappers.length)throw"No available support for this browser";this._keepConnected=!0,this._lastUsedMode=0,this._connect(),m.debug("leaving connect")},disconnect:function(){m.debug("entering disconnect"),this._keepConnected=!1,this._disconnect(),this._setState(C.CLOSED),m.info("disconnected"),m.debug("leaving disconnect")},_useControlArguments:function(){return this.messagesControlByArgument&&(null!==this._lastModified||null!==this._lastEventId)},_connect:function(){if(null===this._lastEventId&&(this._lastEventId=this.lastEventId),null===this._lastModified){var e=this.messagesPublishedAfter;if(!g(e)){var n=Number(this.messagesPublishedAfter);n>0?(e=new Date).setTime(e.getTime()-1e3*n):n<0&&(e=new Date(0))}g(e)&&(this._lastModified=t.dateToUTCString(e))}this._disconnect(),this._setState(C.CONNECTING),this.wrapper=this.wrappers[this._lastUsedMode++%this.wrappers.length];try{this.wrapper.connect()}catch(t){this.wrapper&&this.wrapper.disconnect()}},_disconnect:function(){this._reconnecttimer=j(this._reconnecttimer),this.wrapper&&this.wrapper.disconnect()},_onopen:function(){this._reconnecttimer=j(this._reconnecttimer),this._setState(C.OPEN),this._lastUsedMode>0&&this._lastUsedMode--},_onclose:function(){this._reconnecttimer=j(this._reconnecttimer),this._setState(C.CLOSED),this._reconnect(this.reconnectOnTimeoutInterval)},_onmessage:function(t,e,n,r,o){m.debug("message",t,e,n,r,o),-2===e?this.onchanneldeleted&&this.onchanneldeleted(n):e>0&&this.onmessage&&this.onmessage(t,e,n,r,o)},_onerror:function(t){this._setState(C.CLOSED),this._reconnect("timeout"===t.type?this.reconnectOnTimeoutInterval:this.reconnectOnChannelUnavailableInterval),this.onerror&&this.onerror(t)},_reconnect:function(t){this._keepConnected&&!this._reconnecttimer&&this.readyState!==C.CONNECTING&&(m.info("trying to reconnect in",t),this._reconnecttimer=setTimeout(w(this._connect,this),t))},sendMessage:function(t,e,n){t=_(t),y.post({url:x(this),data:t,success:e,error:n,crossDomain:this._crossDomain})}},C.sendMessage=function(t,e,n,r){y.post({url:t,data:_(e),success:n,error:r})},C.register=function(t){},C.unload=function(){},{PushStream:C,PushStreamManager:T}}(),a=s.PushStream,u=s.PushStreamManager;e.PushStream=a,e.PushStreamManager=u},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(76);var i=new((r=o)&&r.__esModule?r:{default:r}).default;e.default=i},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function s(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new s(n,r||t,i),u=o?o+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,s=new Array(i);r<i;r++)s[r]=n[r].fn;return s},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,i,s){var a=o?o+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,s),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,r);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return u(this,i),this;var s=this._events[i];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||u(this,i);else{for(var a=0,c=[],l=s.length;a<l;a++)(s[a].fn!==e||r&&!s[a].once||n&&s[a].context!==n)&&c.push(s[a]);c.length?this._events[i]=1===c.length?c[0]:c:u(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&u(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},function(t,e,n){"use strict";var r=n(78),o=n(79),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(a,"")}var c=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function f(t){var e,n=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},r={},o=typeof(t=t||n);if("blob:"===t.protocol)r=new p(unescape(t.pathname),{});else if("string"===o)for(e in r=new p(t,{}),l)delete r[e];else if("object"===o){for(e in t)e in l||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=i.test(t.href))}return r}function h(t){t=u(t);var e=s.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function p(t,e,n){if(t=u(t),!(this instanceof p))return new p(t,e,n);var i,s,a,l,d,g,m=c.slice(),v=typeof e,y=this,_=0;for("object"!==v&&"string"!==v&&(n=e,e=null),n&&"function"!=typeof n&&(n=o.parse),e=f(e),i=!(s=h(t||"")).protocol&&!s.slashes,y.slashes=s.slashes||i&&e.slashes,y.protocol=s.protocol||e.protocol||"",t=s.rest,s.slashes||(m[3]=[/(.*)/,"pathname"]);_<m.length;_++)"function"!=typeof(l=m[_])?(a=l[0],g=l[1],a!=a?y[g]=t:"string"==typeof a?~(d=t.indexOf(a))&&("number"==typeof l[2]?(y[g]=t.slice(0,d),t=t.slice(d+l[2])):(y[g]=t.slice(d),t=t.slice(0,d))):(d=a.exec(t))&&(y[g]=d[1],t=t.slice(0,d.index)),y[g]=y[g]||i&&l[3]&&e[g]||"",l[4]&&(y[g]=y[g].toLowerCase())):t=l(t);n&&(y.query=n(y.query)),i&&e.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==e.pathname)&&(y.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(i=!0),n.splice(r,1),s--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(y.pathname,e.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(l=y.auth.split(":"),y.username=l[0]||"",y.password=l[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}p.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e)),i[t]=e;break;case"port":i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";i[t]=e.charAt(0)!==s?s+e:e}else i[t]=e;break;default:i[t]=e}for(var a=0;a<c.length;a++){var u=c[a];u[4]&&(i[u[1]]=i[u[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(i+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(i+=n.hash),i}},p.extractProtocol=h,p.location=f,p.trimLeft=u,p.qs=o,t.exports=p},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r,o=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,i,s=[];for(i in"string"!=typeof e&&(e="?"),t)if(o.call(t,i)){if((n=t[i])||null!==n&&n!==r&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;s.push(i+"="+n)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var o=i(e[1]),s=i(e[2]);null===o||null===s||o in r||(r[o]=s)}return r}},function(t,e,n){"use strict";function r(t,e,n){this.socket=null,this.url=t,this.uid=e,this.token=n}e.__esModule=!0,e.LiveSocket=r,r.prototype.connect=function(){if(this.url){var t=this.url.replace("http://","ws://").replace("https://","wss://");t=t+"/socket.io/?token="+this.token+"&app=smb&EIO=3&transport=websocket",this.socket=wx.connectSocket({url:t,header:{"content-type":"application/json"},protocols:["protocol1"]})}},r.prototype.disconnect=function(){this.socket&&this.socket.close({code:1e3})}},function(t,e,n){"use strict";e.__esModule=!0,e.setPermission=function(t,e){s=t,a=e},e.get=f,e.post=h,e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u();var n="";n=0===t.indexOf("http://")||0===t.indexOf("https://")?t:o.default[t];var r=e.method;return"get"===(void 0===r?"get":r)?f(n,e):h(n,e)};var r=i(n(82)),o=i(n(86));function i(t){return t&&t.__esModule?t:{default:t}}var s="",a="";function u(){if(!s||s.length<=0||!a||a.length<=0)throw"请配置授权信息"}function c(t){return t+(t.indexOf("?")>=0?"&":"?")+"appid="+s+"&expired="+(Date.parse(new Date)+3e5)}function l(t,e){var n=e.data,r=e.method,o=e.header,i=void 0===o?{"content-type":"application/json"}:o;return new Promise((function(e,o){wx.request({url:t,data:n,method:r,header:i,success:function(t){t.statusCode&&200!=t.statusCode?console.log("接口错误"):t.data&&200==t.data.code?e(t.data):console.log(t.data.msg)},fail:function(t){o(t.data)}})}))}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(),t=c(t);var n=e.data,o=void 0===n?{}:n,i=Object.keys(o),s="";i.forEach((function(t){s+="&"+t+"="+(o[t]||"")})),t+=s;var f=(0,r.default)(""+t.replace(/https?:\/\//,"")+a).toLowerCase();return l(t+="&sign="+f,{method:e.method,data:{},header:e.header})}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(),t=c(t);var n=e.data,o=void 0===n?{}:n;o=Object.assign({},o);var i,s="";Object.keys(o).sort().forEach((function(t,e){s+=""+t+(o[t]||"")}));var f=Object.assign({},{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},e.header);return i=(0,r.default)(""+t.replace(/https?:\/\//,"")+s+a).toLowerCase(),l(t+="&sign="+i,{data:e.data,header:f,method:"post"})}},function(t,e,n){var r,o,i,s,a;r=n(83),o=n(84).utf8,i=n(85),s=n(84).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):o.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var n=r.bytesToWords(t),u=8*t.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var d=a._ff,g=a._gg,m=a._hh,v=a._ii;for(p=0;p<n.length;p+=16){var y=c,_=l,b=f,S=h;c=d(c,l,f,h,n[p+0],7,-680876936),h=d(h,c,l,f,n[p+1],12,-389564586),f=d(f,h,c,l,n[p+2],17,606105819),l=d(l,f,h,c,n[p+3],22,-1044525330),c=d(c,l,f,h,n[p+4],7,-176418897),h=d(h,c,l,f,n[p+5],12,1200080426),f=d(f,h,c,l,n[p+6],17,-1473231341),l=d(l,f,h,c,n[p+7],22,-45705983),c=d(c,l,f,h,n[p+8],7,1770035416),h=d(h,c,l,f,n[p+9],12,-1958414417),f=d(f,h,c,l,n[p+10],17,-42063),l=d(l,f,h,c,n[p+11],22,-1990404162),c=d(c,l,f,h,n[p+12],7,1804603682),h=d(h,c,l,f,n[p+13],12,-40341101),f=d(f,h,c,l,n[p+14],17,-1502002290),c=g(c,l=d(l,f,h,c,n[p+15],22,1236535329),f,h,n[p+1],5,-165796510),h=g(h,c,l,f,n[p+6],9,-1069501632),f=g(f,h,c,l,n[p+11],14,643717713),l=g(l,f,h,c,n[p+0],20,-373897302),c=g(c,l,f,h,n[p+5],5,-701558691),h=g(h,c,l,f,n[p+10],9,38016083),f=g(f,h,c,l,n[p+15],14,-660478335),l=g(l,f,h,c,n[p+4],20,-405537848),c=g(c,l,f,h,n[p+9],5,568446438),h=g(h,c,l,f,n[p+14],9,-1019803690),f=g(f,h,c,l,n[p+3],14,-187363961),l=g(l,f,h,c,n[p+8],20,1163531501),c=g(c,l,f,h,n[p+13],5,-1444681467),h=g(h,c,l,f,n[p+2],9,-51403784),f=g(f,h,c,l,n[p+7],14,1735328473),c=m(c,l=g(l,f,h,c,n[p+12],20,-1926607734),f,h,n[p+5],4,-378558),h=m(h,c,l,f,n[p+8],11,-2022574463),f=m(f,h,c,l,n[p+11],16,1839030562),l=m(l,f,h,c,n[p+14],23,-35309556),c=m(c,l,f,h,n[p+1],4,-1530992060),h=m(h,c,l,f,n[p+4],11,1272893353),f=m(f,h,c,l,n[p+7],16,-155497632),l=m(l,f,h,c,n[p+10],23,-1094730640),c=m(c,l,f,h,n[p+13],4,681279174),h=m(h,c,l,f,n[p+0],11,-358537222),f=m(f,h,c,l,n[p+3],16,-722521979),l=m(l,f,h,c,n[p+6],23,76029189),c=m(c,l,f,h,n[p+9],4,-640364487),h=m(h,c,l,f,n[p+12],11,-421815835),f=m(f,h,c,l,n[p+15],16,530742520),c=v(c,l=m(l,f,h,c,n[p+2],23,-995338651),f,h,n[p+0],6,-198630844),h=v(h,c,l,f,n[p+7],10,1126891415),f=v(f,h,c,l,n[p+14],15,-1416354905),l=v(l,f,h,c,n[p+5],21,-57434055),c=v(c,l,f,h,n[p+12],6,1700485571),h=v(h,c,l,f,n[p+3],10,-1894986606),f=v(f,h,c,l,n[p+10],15,-1051523),l=v(l,f,h,c,n[p+1],21,-2054922799),c=v(c,l,f,h,n[p+8],6,1873313359),h=v(h,c,l,f,n[p+15],10,-30611744),f=v(f,h,c,l,n[p+6],15,-1560198380),l=v(l,f,h,c,n[p+13],21,1309151649),c=v(c,l,f,h,n[p+4],6,-145523070),h=v(h,c,l,f,n[p+11],10,-1120210379),f=v(f,h,c,l,n[p+2],15,718787259),l=v(l,f,h,c,n[p+9],21,-343485551),c=c+y>>>0,l=l+_>>>0,f=f+b>>>0,h=h+S>>>0}return r.endian([c,l,f,h])})._ff=function(t,e,n,r,o,i,s){var a=t+(e&n|~e&r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},a._gg=function(t,e,n,r,o,i,s){var a=t+(e&r|n&~r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},a._hh=function(t,e,n,r,o,i,s){var a=t+(e^n^r)+(o>>>0)+s;return(a<<i|a>>>32-i)+e},a._ii=function(t,e,n,r,o,i,s){var a=t+(n^(e|~r))+(o>>>0)+s;return(a<<i|a>>>32-i)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=r.wordsToBytes(a(t,e));return e&&e.asBytes?n:e&&e.asString?s.bytesToString(n):r.bytesToHex(n)}},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?e.push(n.charAt(o>>>6*(3-i)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|n.indexOf(t.charAt(r))>>>6-2*o);return e}},t.exports=r},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";e.__esModule=!0;var r="http://api.zmengzhu.com";e.API_HOST=r="https://api.zmengzhu.com",e.default={play:r+"/business/v1/video/play",goods:r+"/business/v1/video/goods",history:r+"/business/v1/message/history",praise:r+"/business/v1/room/praise",onlines:r+"/business/v1/room/onlines"},e.API_HOST=r}]).default}));